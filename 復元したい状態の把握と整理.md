# 復元したい状態の把握と整理

**作成日**: 2025-01-03  
**目的**: バックアップから復元したい状態（章の構成、ユニットごとの教材、UI）を把握

---

## 📦 バックアップの場所と内容

### 1. **analytics_backup/** - 分析機能のバックアップ（最重要）

**場所**: `/Users/imamurayoko/Desktop/Cursor/application/analytics_backup/`

**内容**:
- ✅ `app_questions_300.json` - **300問の問題データ**（350KB）
- ✅ `units_info.json` - **ユニット情報（章の構成、ユニットごとの教材情報）**
- ✅ `lib/questions.ts` - 問題データ読み込み
- ✅ `lib/calculateStats.ts` - 統計計算
- ✅ `lib/units.ts` - ユニット情報管理
- ✅ `hooks/useAnswerTracking.ts` - 回答追跡フック
- ✅ `types/question.ts` - 問題型定義
- ✅ `types/answer.ts` - 回答型定義

### 2. **app.backup_before_git_restore/** - Git復元前のバックアップ

**場所**: `/Users/imamurayoko/Desktop/Cursor/application/app.backup_before_git_restore/`

**内容**:
- ✅ `page.tsx` - ホームページ（UIの状態）
- ✅ `data/courses.ts` - コースデータ
- ✅ `quiz/page.tsx` - 問題演習ページ
- ✅ `layout.tsx` - レイアウト
- ✅ `globals.css` - グローバルスタイル

### 3. **backup_20251231_144907.tar.gz** - 完全バックアップ

**場所**: `~/Desktop/KindleScreenshots/backup_20251231_144907.tar.gz`

**内容**: 問題データ、スクリプト、分析結果など

---

## 📊 復元したい状態の詳細

### 1. **章の構成（units_info.jsonから）**

#### 第1章: AI（人工知能）
- **Unit 01**: AIの定義と歴史（4問）
- **Unit 02**: 機械学習の仕組み（4問）
- **Unit 03**: ディープラーニングとニューラルネットワーク（3問）
- **Unit 04**: 学習の精度と課題（過学習とバイアス）（4問）
- **合計**: 15問

#### 第2章: 生成AI（ジェネレーティブAI）
- **Unit 01**: 生成モデルの誕生と進化（7問）
- **Unit 02**: 画像生成技術のパラダイムシフト（4問）
- **Unit 03**: OpenAIモデルの系譜①（Omni系列）（3問）
- **Unit 04**: OpenAIモデルの系譜②（Reasoning系列）（3問）
- **Unit 05**: 自律型AIエージェント（3問）
- **Unit 06**: 競合モデルの最新動向（3問）
- **合計**: 23問

#### 第3章: 現在の生成AIの動向
- **Unit 01**: 生成AIができることと主なサービス（5問）
- **Unit 02**: ディープフェイク技術とその危険性（3問）
- **Unit 03**: RAG（検索拡張生成）（6問）
- **Unit 04**: AIエージェント（25問）
- **合計**: 39問

#### 第4章: 情報リテラシー・法律・倫理
- **Unit 01**: インターネットリテラシーの基礎（4問）
- **Unit 02**: 個人情報保護と生成AI（5問）
- **Unit 03**: 制作物に関わる権利（知的財産権）（6問）
- **Unit 04**: AI社会の基本理念とAI社会原則（5問）
- **合計**: 20問

#### 第5章: プロンプト制作と実例
- **Unit 01**: LLMの仕組みとパラメータ（4問）
- **Unit 02**: プロンプトエンジニアリング基礎（4問）
- **Unit 03**: 応用プロンプティング（高度な思考制御技法）（5問）
- **Unit 04**: ビジネス活用とリスク管理（7問）
- **合計**: 20問

**総ユニット数**: 22ユニット  
**総問題数**: 117問（ユニット問題のみ）

---

### 2. **問題データの構成**

#### app_questions_300.json
- **問題数**: 300問
- **形式**: JSON形式
- **構造**: `{ "questions": [...] }`
- **各問題の属性**:
  - `questionId`: 問題ID（例: `unit_001`, `add_001`）
  - `chapter`: 章番号（1-5）
  - `question`: 問題文
  - `options`: 選択肢
  - `correctAnswer`: 正解
  - `explanation`: 解説
  - `tags`: タグ

#### 問題の分類
- **ユニット問題**: `unit_001` ～ `unit_117`（117問）
- **追加問題**: `add_001` ～ `add_XXX`（残りの問題）

---

### 3. **UIの状態（app.backup_before_git_restore/page.tsxから）**

#### ホームページの構成
- **ヘッダー**: ロゴ、ナビゲーション（コース、問題演習、利用方法、お問い合わせ）
- **ヒーローセクション**: タイトル、説明、CTAボタン
- **あなたの学習進捗セクション**: 学習履歴表示
- **コース一覧セクション**: 5つの章のコースカード
- **機能紹介セクション**: プラットフォームの特徴

#### スタイリング
- Tailwind CSSを使用
- グラデーション背景
- アニメーション（Framer Motion）

---

## 🔄 現在の状態との比較

### 現在の状態（Git復元後）
- ✅ ホームページの基本構造は復元済み
- ✅ 学習履歴表示機能は動作
- ❌ 分析機能（`/analytics`ページ）が削除されている
- ❌ 300問の問題データが統合されていない
- ❌ ユニット情報が統合されていない

### 復元したい状態（バックアップから）
- ✅ 300問の問題データ（`app_questions_300.json`）
- ✅ ユニット情報（`units_info.json`）
- ✅ 分析機能（`/analytics`ページ）
- ✅ ユニット別学習状況の表示
- ✅ 章別・ユニット別の詳細分析

---

## 📋 復元が必要なファイル一覧

### 1. **データファイル**
- [ ] `public/app_questions_300.json` - 300問の問題データ
- [ ] `public/units_info.json` - ユニット情報

### 2. **型定義**
- [ ] `app/types/question.ts` - 問題の型定義
- [ ] `app/types/answer.ts` - 回答の型定義

### 3. **ユーティリティ**
- [ ] `app/lib/questions.ts` - 問題データ読み込み
- [ ] `app/lib/calculateStats.ts` - 統計計算
- [ ] `app/lib/units.ts` - ユニット情報管理

### 4. **フック**
- [ ] `app/hooks/useAnswerTracking.ts` - 回答追跡フック

### 5. **ページ**
- [ ] `app/analytics/page.tsx` - 分析ダッシュボードページ（既に実装済みだが、バックアップ版と統合が必要）

---

## 🎯 復元の優先順位

### 最優先（必須）
1. **データファイルの復元**
   - `app_questions_300.json` → `public/app_questions_300.json`
   - `units_info.json` → `public/units_info.json`

2. **型定義の復元**
   - `types/question.ts` → `app/types/question.ts`
   - `types/answer.ts` → `app/types/answer.ts`

3. **ユーティリティの復元**
   - `lib/questions.ts` → `app/lib/questions.ts`
   - `lib/calculateStats.ts` → `app/lib/calculateStats.ts`
   - `lib/units.ts` → `app/lib/units.ts`

### 高優先度
4. **フックの復元**
   - `hooks/useAnswerTracking.ts` → `app/hooks/useAnswerTracking.ts`

5. **分析ページの統合**
   - 既存の`app/analytics/page.tsx`とバックアップ版を統合

---

## 📝 復元手順（推奨）

### ステップ1: データファイルの復元
```bash
cd /Users/imamurayoko/Desktop/Cursor/application
cp analytics_backup/app_questions_300.json public/
cp analytics_backup/units_info.json public/
```

### ステップ2: 型定義の復元
```bash
mkdir -p app/types
cp analytics_backup/types/question.ts app/types/
cp analytics_backup/types/answer.ts app/types/
```

### ステップ3: ユーティリティの復元
```bash
mkdir -p app/lib
cp analytics_backup/lib/questions.ts app/lib/
cp analytics_backup/lib/calculateStats.ts app/lib/
cp analytics_backup/lib/units.ts app/lib/
```

### ステップ4: フックの復元
```bash
mkdir -p app/hooks
cp analytics_backup/hooks/useAnswerTracking.ts app/hooks/
```

### ステップ5: 分析ページの確認・統合
- 既存の`app/analytics/page.tsx`とバックアップ版を比較
- 必要に応じて統合

### ステップ6: 動作確認
- 開発サーバーを起動
- `/analytics`ページが正常に表示されるか確認
- 300問の問題データが読み込まれるか確認
- ユニット情報が正しく表示されるか確認

---

## ⚠️ 注意事項

1. **パスの変更**
   - バックアップのパス: `@/lib/questions` → `@/app/lib/questions`
   - バックアップのパス: `@/types/question` → `@/app/types/question`
   - インポートパスを修正する必要がある

2. **Next.js App Routerの構造**
   - `app/`ディレクトリ配下に配置
   - `public/`ディレクトリにJSONファイルを配置

3. **型定義の統合**
   - 既存の`types/index.ts`と統合する必要がある可能性

4. **既存ファイルとの競合**
   - 既に`app/analytics/page.tsx`が存在するため、統合が必要

---

## 📊 章の構成の詳細（units_info.jsonから）

### 全22ユニットの構成

| 章 | ユニットID | タイトル | 問題数 |
|---|---|---|---|
| 1 | unit01-ai-definition-history | AIの定義と歴史 | 4問 |
| 1 | unit02-machine-learning | 機械学習の仕組み | 4問 |
| 1 | unit03-deep-learning | ディープラーニングとニューラルネットワーク | 3問 |
| 1 | unit04-overfitting-bias | 学習の精度と課題（過学習とバイアス） | 4問 |
| 2 | unit01-generative-model-evolution | 生成モデルの誕生と進化 | 7問 |
| 2 | unit02-paradigm-shift | 画像生成技術のパラダイムシフト | 4問 |
| 2 | unit03-openai-omni-series | OpenAIモデルの系譜①（Omni系列） | 3問 |
| 2 | unit04-openai-reasoning-series | OpenAIモデルの系譜②（Reasoning系列） | 3問 |
| 2 | unit05-autonomous-ai-agents | 自律型AIエージェント | 3問 |
| 2 | unit06-competitive-models | 競合モデルの最新動向 | 3問 |
| 3 | unit01-generative-ai-modality | 生成AIができることと主なサービス | 5問 |
| 3 | unit02-deepfake | ディープフェイク技術とその危険性 | 3問 |
| 3 | unit03-rag | RAG（検索拡張生成） | 6問 |
| 3 | unit04-ai-agent | AIエージェント | 25問 |
| 4 | unit01-internet-literacy | インターネットリテラシーの基礎 | 4問 |
| 4 | unit02-personal-info-ai | 個人情報保護と生成AI | 5問 |
| 4 | unit03-copyright | 制作物に関わる権利（知的財産権） | 6問 |
| 4 | unit04-ai-guidelines | AI社会の基本理念とAI社会原則 | 5問 |
| 5 | unit01-llm-params | LLMの仕組みとパラメータ | 4問 |
| 5 | unit02-prompt-basics | プロンプトエンジニアリング基礎 | 4問 |
| 5 | unit03-advanced-prompting | 応用プロンプティング（高度な思考制御技法） | 5問 |
| 5 | unit04-business-risk | ビジネス活用とリスク管理 | 7問 |

---

## 🔍 確認が必要な項目

1. **問題データの整合性**
   - `app_questions_300.json`に300問が含まれているか
   - 各問題に`chapter`属性が正しく設定されているか
   - 問題IDが`units_info.json`と一致しているか

2. **ユニット情報の整合性**
   - 22ユニットすべてが定義されているか
   - 各ユニットの問題IDが問題データに存在するか

3. **UIの状態**
   - バックアップの`page.tsx`と現在の`page.tsx`の差分
   - 必要な機能が含まれているか

---

## 📚 参考資料

### バックアップの場所
- `analytics_backup/`: `/Users/imamurayoko/Desktop/Cursor/application/analytics_backup/`
- `app.backup_before_git_restore/`: `/Users/imamurayoko/Desktop/Cursor/application/app.backup_before_git_restore/`
- `backup_20251231_144907.tar.gz`: `~/Desktop/KindleScreenshots/backup_20251231_144907.tar.gz`

### 関連ドキュメント
- `GIT_RESTORE_HANDOVER.md` - Git復元作業の引き継ぎ書
- `NEXT_STEPS_SUMMARY.md` - 次のステップのサマリー
- `analytics_page_troubleshooting_handover.md` - Analyticsページのトラブルシューティング

---

**最終更新**: 2025-01-03  
**次の作業**: バックアップからの復元作業を開始


