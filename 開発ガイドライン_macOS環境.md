# 開発ガイドライン - macOS環境

**作成日**: 2025-01-03  
**目的**: macOS環境での開発時の注意事項とベストプラクティス

---

## ⚠️ 重要な注意事項

### 1. macOSのセキュリティ機能とサンドボックの制限

macOSのセキュリティ機能により、以下のような制限が発生する場合があります：

- **`Operation not permitted`エラー**: `node_modules`へのアクセスが制限される場合がある
- **ファイルシステムの権限**: 特定のディレクトリへのアクセスが制限される場合がある
- **サンドボック**: IDE内から起動するプロセスが制限される場合がある

### 2. 開発サーバーの起動方法

**推奨**: ターミナルで直接`npm run dev`を実行

```bash
cd /Users/imamurayoko/Developer/Cursor/application
npm run dev
```

**非推奨**: IDE内からの起動（サンドボックの制限によりエラーが発生する可能性がある）

### 3. エラーが発生した場合の対処

1. **開発サーバーを停止**
   ```bash
   kill -9 $(lsof -ti:3000) 2>/dev/null || true
   ```

2. **.nextディレクトリを削除**
   ```bash
   rm -rf .next
   ```

3. **開発サーバーを再起動**
   ```bash
   npm run dev
   ```

詳細は [`対処方法_OperationNotPermittedエラー.md`](./対処方法_OperationNotPermittedエラー.md) を参照してください。

---

## 🔍 開発時のベストプラクティス

### 1. 作業ディレクトリ

**推奨**: `/Users/imamurayoko/Developer/Cursor/application`
- iCloud Driveの影響を受けない
- 安定したファイルシステムアクセス

**非推奨**: `/Users/imamurayoko/Desktop/Cursor/application`
- iCloud Driveの同期により不安定になる可能性がある
- ファイルの読み書きが遅延する場合がある

### 2. 開発サーバーの管理

- 開発サーバーは**ターミナルで直接実行**することを推奨
- IDE内から起動する場合は、エラーが発生する可能性があることを理解する
- エラーが発生した場合は、まず開発サーバーを再起動する

### 3. ファイルの操作

- `node_modules`への直接的な変更は避ける
- `.next`ディレクトリはビルド時に自動生成されるため、手動で削除しても問題ない
- 権限エラーが発生した場合は、ファイルの所有者を確認する

### 4. エラーの対処

- エラーメッセージを確認し、システムレベルの問題かコードの問題かを判断する
- `Operation not permitted`エラーは、コードの問題ではなくシステムレベルの問題の可能性が高い
- 対処方法ドキュメントを参照して、適切な対処を行う

---

## 📚 関連ドキュメント

- [`対処方法_OperationNotPermittedエラー.md`](./対処方法_OperationNotPermittedエラー.md) - Operation not permittedエラーの詳細な対処方法
- [`開発サーバー起動手順.md`](./開発サーバー起動手順.md) - 開発サーバーの起動方法とトラブルシューティング
- [`README.md`](./README.md) - プロジェクトの概要とトラブルシューティング

---

**最終更新**: 2025-01-03  
**状態**: 開発ガイドラインを作成

