# 開発サーバー起動手順

**作成日**: 2025-01-03  
**目的**: アプリを表示できるようにする

---

## 📋 手動で開発サーバーを起動する方法

### 方法1: ターミナルで直接起動

```bash
cd /Users/imamurayoko/Developer/Cursor/application
npm run dev
```

### 方法2: バックグラウンドで起動

```bash
cd /Users/imamurayoko/Developer/Cursor/application
npm run dev &
```

---

## 🔍 確認事項

### 1. 依存関係の確認

```bash
# node_modulesが存在するか確認
ls -la node_modules

# 存在しない場合はインストール
npm install
```

### 2. ポート3000の確認

```bash
# ポート3000が使用中か確認
lsof -ti:3000

# 使用中の場合は停止
kill -9 $(lsof -ti:3000)
```

### 3. ビルドエラーの確認

```bash
# ビルドを実行してエラーを確認
npm run build
```

---

## 🚀 起動後の確認

1. **ブラウザでアクセス**
   - `http://localhost:3000/`

2. **エラーの確認**
   - ブラウザのコンソール（F12）でエラーがないか確認
   - ターミナルのエラーメッセージを確認

---

## 🔧 トラブルシューティング

### Operation not permitted エラーが発生する場合

**症状**: `Operation not permitted (os error 1)` エラーが発生し、開発サーバーが起動しない

**原因**: macOSのセキュリティ機能やサンドボックの制限により、`node_modules`へのアクセスが制限される場合があります

**対処方法**:
詳細な対処方法は [`対処方法_OperationNotPermittedエラー.md`](./対処方法_OperationNotPermittedエラー.md) を参照してください。

**クイック対処**:
```bash
# 1. 既存のプロセスを停止
kill -9 $(lsof -ti:3000) 2>/dev/null || true

# 2. .nextディレクトリを削除
rm -rf .next

# 3. 開発サーバーを再起動（ターミナルで直接実行を推奨）
npm run dev
```

**重要な注意事項**:
- **開発サーバーはターミナルで直接実行することを推奨**（IDE内からの起動よりも安定します）
- CursorやVS CodeなどのIDE内から起動する場合、サンドボックの制限によりエラーが発生する可能性があります
- このエラーはコードの問題ではなく、システムレベルの権限問題です

### ポート3000が使用中の場合

```bash
# プロセスを停止
kill -9 $(lsof -ti:3000)

# または別のポートで起動
PORT=3001 npm run dev
```

### ビルドエラーが発生する場合

```bash
# .nextディレクトリを削除して再ビルド
rm -rf .next
npm run build
npm run dev
```

### 依存関係のエラー

```bash
# node_modulesを削除して再インストール
rm -rf node_modules package-lock.json
npm install
```

---

## ⚠️ macOS環境での開発時の注意事項

1. **開発サーバーの起動方法**
   - IDE内から起動するよりも、ターミナルで直接`npm run dev`を実行することを推奨
   - これにより、サンドボックの制限による問題を回避できます

2. **ファイルシステムの権限**
   - `node_modules`へのアクセスが制限される場合があります
   - エラーが発生した場合は、開発サーバーを再起動してください

3. **iCloud Driveの影響**
   - 現在のワークスペース（`/Users/imamurayoko/Developer/Cursor/application`）はiCloud Driveの影響を受けません
   - Desktopフォルダ内のプロジェクトは、iCloudの同期により不安定になる可能性があります

---

**最終更新**: 2025-01-03  
**状態**: 開発サーバーの起動を試行中、macOS環境での注意事項を追加


